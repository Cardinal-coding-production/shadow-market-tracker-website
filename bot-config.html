<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Configuration - Shadow Market Tracker</title>
    <meta name="description" content="Configure your AI bots and set up workflow integrations.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/cyberpunk.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google OAuth -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <style>
        .config-section {
            padding: 8rem 0 5rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .config-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .bot-config-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2.5rem;
            margin-bottom: 2rem;
        }
        
        .bot-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--glass-border);
        }
        
        .bot-title {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .bot-icon {
            font-size: 2rem;
        }
        
        .bot-status {
            background: rgba(34, 197, 94, 0.2);
            color: var(--text-success);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            border: 1px solid var(--text-success);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--text-success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .config-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .form-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-select {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .integration-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .integration-card {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition-normal);
        }
        
        .integration-card:hover {
            border-color: var(--primary-purple);
            background: rgba(139, 92, 246, 0.2);
        }
        
        .integration-card.active {
            border-color: var(--primary-purple);
            background: rgba(139, 92, 246, 0.3);
            box-shadow: var(--shadow-glow);
        }
        
        .integration-icon {
            font-size: 2rem;
            color: var(--text-accent);
            margin-bottom: 0.5rem;
        }
        
        .integration-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        
        .integration-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .config-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
        }
        
        .preview-section {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        .preview-title {
            color: var(--text-accent);
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .preview-content {
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .hidden { display: none; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <span class="nav-logo">üîç</span>
                <span>Shadow Market Tracker</span>
            </a>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="bot-showcase.html" class="nav-link">Bot Demo</a>
                <a href="bot-config.html" class="nav-link active">Configure</a>
                <a href="pricing.html" class="nav-link">Pricing</a>
            </div>
        </div>
    </nav>

    <!-- Auth Check -->
    <div id="auth-required" class="config-section">
        <div class="config-header">
            <h1 style="color: var(--text-primary); font-size: 2.5rem; margin-bottom: 1rem;">Bot Configuration</h1>
            <p style="color: var(--text-secondary); font-size: 1.2rem;">Please sign in to configure your AI bots</p>
            
            <div style="margin-top: 2rem;">
                <div id="g_id_onload"
                     data-client_id="242918573251-2ncpsgn706ubrbbvo683h9g0pdiis0pt.apps.googleusercontent.com"
                     data-callback="handleCredentialResponse"
                     data-auto_prompt="false">
                </div>
                <div class="g_id_signin"
                     data-type="standard"
                     data-size="large"
                     data-theme="filled_black"
                     data-text="sign_in_with"
                     data-shape="rectangular"
                     data-logo_alignment="left">
                </div>
            </div>
        </div>
    </div>

    <!-- Main Configuration (Hidden until auth) -->
    <div id="main-config" class="config-section hidden">
        <div class="config-header">
            <h1 style="color: var(--text-primary); font-size: 2.5rem; margin-bottom: 1rem;">Configure Your AI Bots</h1>
            <div id="user-welcome"></div>
        </div>

        <!-- Competitive News Bot Configuration -->
        <div class="bot-config-card">
            <div class="bot-header">
                <div class="bot-title">
                    <span class="bot-icon">üì∞</span>
                    Competitive News Bot
                </div>
                <div class="bot-status">
                    <span class="status-dot"></span>
                    Active & Monitoring
                </div>
            </div>
            
            <div class="config-form">
                <div>
                    <div class="form-group">
                        <label class="form-label">Keywords to Monitor</label>
                        <textarea class="form-input form-textarea" placeholder="AI startups, machine learning, competitor names..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Industry Focus</label>
                        <select class="form-select">
                            <option>Technology</option>
                            <option>Healthcare</option>
                            <option>Finance</option>
                            <option>E-commerce</option>
                            <option>Manufacturing</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Alert Frequency</label>
                        <select class="form-select">
                            <option>Real-time (Instant)</option>
                            <option>Hourly Digest</option>
                            <option>Daily Summary</option>
                            <option>Weekly Report</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <div class="form-group">
                        <label class="form-label">Delivery Methods</label>
                        <div class="integration-options">
                            <div class="integration-card active" data-integration="email">
                                <div class="integration-icon">üìß</div>
                                <div class="integration-name">Email</div>
                                <div class="integration-desc">Get alerts via email</div>
                            </div>
                            <div class="integration-card" data-integration="slack">
                                <div class="integration-icon">üí¨</div>
                                <div class="integration-name">Slack</div>
                                <div class="integration-desc">Team notifications</div>
                            </div>
                            <div class="integration-card" data-integration="mobile">
                                <div class="integration-icon">üì±</div>
                                <div class="integration-name">Mobile</div>
                                <div class="integration-desc">Push notifications</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="preview-section">
                <div class="preview-title">Preview: What You'll Receive</div>
                <div class="preview-content">
üö® COMPETITIVE ALERT: TechCorp raises $50M Series B
Source: TechCrunch | Relevance: 95% | Impact: High

Key Points:
‚Ä¢ Funding will accelerate AI product development
‚Ä¢ Plans to hire 200+ engineers in next 6 months  
‚Ä¢ Targeting same market segment as your company
‚Ä¢ Led by Sequoia Capital with participation from...

Recommended Actions:
‚Üí Review your competitive positioning
‚Üí Accelerate product roadmap
‚Üí Consider strategic partnerships
                </div>
            </div>
            
            <div class="config-actions">
                <button class="btn btn-secondary">Test Configuration</button>
                <button class="btn btn-primary">Save & Activate</button>
            </div>
        </div>

        <!-- Gap Finder Bot Configuration -->
        <div class="bot-config-card">
            <div class="bot-header">
                <div class="bot-title">
                    <span class="bot-icon">üîç</span>
                    Gap Finder Bot
                </div>
                <div class="bot-status">
                    <span class="status-dot"></span>
                    Active & Analyzing
                </div>
            </div>
            
            <div class="config-form">
                <div>
                    <div class="form-group">
                        <label class="form-label">Your Expertise Areas</label>
                        <textarea class="form-input form-textarea" placeholder="Software development, AI/ML, mobile apps, SaaS..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Target Market Size</label>
                        <select class="form-select">
                            <option>Any Size</option>
                            <option>$1M - $10M</option>
                            <option>$10M - $100M</option>
                            <option>$100M - $1B</option>
                            <option>$1B+</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Geographic Focus</label>
                        <select class="form-select">
                            <option>Global</option>
                            <option>India</option>
                            <option>North America</option>
                            <option>Europe</option>
                            <option>Asia-Pacific</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <div class="preview-section">
                        <div class="preview-title">Recent Opportunity Detected</div>
                        <div class="preview-content">
üí° MARKET GAP: AI-powered HR tools for SMBs

Market Analysis:
‚Ä¢ Estimated market size: $2.3B
‚Ä¢ Current competition: Low (3 major players)
‚Ä¢ Growth trend: 45% YoY
‚Ä¢ Search volume: 50K+ monthly

Opportunity Score: 87/100

Key Insights:
‚Üí Large enterprises have solutions, SMBs underserved
‚Üí High demand for affordable, easy-to-use tools
‚Üí Integration with existing HR systems crucial
‚Üí Pricing sweet spot: $50-200/month

Recommended Next Steps:
1. Validate with target customer interviews
2. Analyze competitor feature gaps
3. Build MVP focusing on core pain points
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="config-actions">
                <button class="btn btn-secondary">View All Opportunities</button>
                <button class="btn btn-primary">Save Configuration</button>
            </div>
        </div>

        <!-- Tender Alert Bot Configuration -->
        <div class="bot-config-card">
            <div class="bot-header">
                <div class="bot-title">
                    <span class="bot-icon">üìã</span>
                    Tender Alert Bot
                </div>
                <div class="bot-status">
                    <span class="status-dot"></span>
                    Active & Monitoring
                </div>
            </div>
            
            <div class="config-form">
                <div>
                    <div class="form-group">
                        <label class="form-label">Company Capabilities</label>
                        <textarea class="form-input form-textarea" placeholder="IT services, software development, cloud migration, cybersecurity..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Minimum Contract Value</label>
                        <select class="form-select">
                            <option>Any Amount</option>
                            <option>‚Çπ1 Lakh+</option>
                            <option>‚Çπ10 Lakh+</option>
                            <option>‚Çπ1 Crore+</option>
                            <option>‚Çπ10 Crore+</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Sectors to Monitor</label>
                        <select class="form-select">
                            <option>All Sectors</option>
                            <option>Government</option>
                            <option>Private Sector</option>
                            <option>Healthcare</option>
                            <option>Education</option>
                            <option>Banking & Finance</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <div class="preview-section">
                        <div class="preview-title">Recent Tender Match</div>
                        <div class="preview-content">
üéØ PERFECT MATCH: IT Infrastructure Upgrade

Tender Details:
‚Ä¢ Organization: Municipal Corporation
‚Ä¢ Value: ‚Çπ50 Lakh
‚Ä¢ Deadline: 15 days remaining
‚Ä¢ Match Score: 94%

Requirements:
‚úì Network infrastructure setup
‚úì Server installation & configuration  
‚úì Security system implementation
‚úì 3 years maintenance support

Competition Analysis:
‚Ä¢ Expected bidders: 5-8 companies
‚Ä¢ Your win probability: 75%
‚Ä¢ Similar past projects: 3 wins

Action Items:
‚Üí Download tender document
‚Üí Site visit scheduled for tomorrow
‚Üí Technical team briefing at 2 PM
‚Üí Proposal deadline: March 15th
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="config-actions">
                <button class="btn btn-secondary">View All Tenders</button>
                <button class="btn btn-primary">Save Configuration</button>
            </div>
        </div>
    </div>

    <script>
        // Google OAuth Handler
        function handleCredentialResponse(response) {
            const responsePayload = decodeJwtResponse(response.credential);
            
            // Check for special access
            const isSpecialUser = responsePayload.email === 'tycoonsofdawn@gmail.com' || 
                                 responsePayload.email === 'pranavdev.businessai@gmail.com';
            
            // Hide auth section, show config
            document.getElementById('auth-required').classList.add('hidden');
            document.getElementById('main-config').classList.remove('hidden');
            
            // Update user welcome
            document.getElementById('user-welcome').innerHTML = `
                <div style="display: flex; align-items: center; gap: 1rem; justify-content: center; margin-bottom: 2rem;">
                    <img src="${responsePayload.picture}" alt="Profile" style="width: 50px; height: 50px; border-radius: 50%; border: 2px solid var(--primary-purple);">
                    <div>
                        <p style="color: var(--text-primary); margin: 0; font-weight: 600;">${responsePayload.name}</p>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem;">${responsePayload.email}</p>
                        ${isSpecialUser ? '<span style="background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #000; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem; font-weight: 600;"><i class="fas fa-crown"></i> Creator Access</span>' : ''}
                    </div>
                </div>
            `;
        }

        function decodeJwtResponse(token) {
            var base64Url = token.split('.')[1];
            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }

        // Initialize Google Sign-In
        window.onload = function () {
            google.accounts.id.initialize({
                client_id: "242918573251-2ncpsgn706ubrbbvo683h9g0pdiis0pt.apps.googleusercontent.com",
                callback: handleCredentialResponse
            });
        }

        // Integration card selection
        document.querySelectorAll('.integration-card').forEach(card => {
            card.addEventListener('click', function() {
                // Toggle active state
                this.classList.toggle('active');
            });
        });

        // Button handlers
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function() {
                const action = this.textContent.trim();
                
                if (action.includes('Save')) {
                    alert('‚úÖ Configuration saved successfully!\n\nYour bot is now monitoring with the new settings. You should start receiving alerts within the next hour.');
                } else if (action.includes('Test')) {
                    alert('üß™ Test alert sent!\n\nCheck your email and other configured channels for a sample alert. This helps verify your integration is working correctly.');
                } else if (action.includes('View All')) {
                    alert('üìä This would open a detailed dashboard showing all opportunities/tenders/alerts.\n\nIn the full implementation, this would be a comprehensive data table with filtering and export options.');
                }
            });
        });

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>
</body>
</html>
