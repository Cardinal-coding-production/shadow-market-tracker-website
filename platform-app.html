<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Bot Platform - Shadow Market Tracker</title>
    <meta name="description" content="Access your AI Bot Platform with Google OAuth authentication.">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        .platform-dashboard {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a0033, #000000, #330000);
            padding: 2rem;
        }
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .user-info {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(147, 51, 234, 0.3);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            color: white;
        }
        .bot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .bot-card {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(147, 51, 234, 0.3);
            border-radius: 12px;
            padding: 2rem;
            color: white;
            transition: all 0.3s ease;
        }
        .bot-card:hover {
            border-color: rgba(147, 51, 234, 0.6);
            transform: translateY(-5px);
        }
        .bot-status {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 1rem;
        }
        .status-active {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid #22c55e;
        }
        .sign-out-btn {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid #ef4444;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .sign-out-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }
        .hidden { display: none; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="index.html">
                    <span class="nav-logo">üîç</span>
                    <span class="nav-title">Shadow Market Tracker</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="products.html" class="nav-link">Products</a>
                <a href="platform-app.html" class="nav-link active">ü§ñ AI Platform</a>
            </div>
        </div>
    </nav>

    <!-- Sign In Section -->
    <section id="signin-section" class="hero-section platform-hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">ü§ñ AI Bot Platform</h1>
                <p class="hero-subtitle">
                    Access your personalized AI bots for competitive intelligence, 
                    gap finding, and tender alerts. Sign in with Google to get started.
                </p>
                <div class="platform-actions">
                    <div id="g_id_onload"
                         data-client_id="242918573251-2ncpsgn706ubrbbvo683h9g0pdiis0pt.apps.googleusercontent.com"
                         data-callback="handleCredentialResponse"
                         data-auto_prompt="false">
                    </div>
                    <div class="g_id_signin"
                         data-type="standard"
                         data-size="large"
                         data-theme="filled_black"
                         data-text="sign_in_with"
                         data-shape="rectangular"
                         data-logo_alignment="left">
                    </div>
                </div>
                <div class="platform-features" style="margin-top: 3rem;">
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3>3 AI Bots</h3>
                            <p>Competitive News, Gap Finder, and Tender Alert bots</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3>Secure OAuth</h3>
                            <p>Google OAuth integration for secure authentication</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <h3>Real-time Dashboard</h3>
                            <p>Monitor your bots and opportunities in real-time</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard-section" class="platform-dashboard hidden">
        <button class="sign-out-btn" onclick="signOut()">
            <i class="fas fa-sign-out-alt"></i> Sign Out
        </button>
        
        <div class="dashboard-container">
            <div class="user-info">
                <h1>üéâ Welcome to Shadow Market Tracker AI Platform!</h1>
                <div id="user-details"></div>
                <p style="margin-top: 1rem; color: #22c55e;">
                    ‚úÖ <strong>Authentication Successful!</strong> Your Google OAuth integration is working perfectly.
                </p>
            </div>

            <div class="bot-grid">
                <div class="bot-card">
                    <div class="bot-icon" style="font-size: 2rem; margin-bottom: 1rem;">üì∞</div>
                    <h3>Competitive News Bot</h3>
                    <p>Stay ahead with real-time competitive intelligence from 50+ news sources and industry publications.</p>
                    <div class="bot-status status-active">‚úÖ Active & Ready</div>
                </div>

                <div class="bot-card">
                    <div class="bot-icon" style="font-size: 2rem; margin-bottom: 1rem;">üîç</div>
                    <h3>Gap Finder Bot</h3>
                    <p>Discover untapped market opportunities by analyzing 150+ data sources for underserved niches.</p>
                    <div class="bot-status status-active">‚úÖ Active & Ready</div>
                </div>

                <div class="bot-card">
                    <div class="bot-icon" style="font-size: 2rem; margin-bottom: 1rem;">üìã</div>
                    <h3>Tender Alert Bot</h3>
                    <p>Never miss a business opportunity with automated tender and RFP alerts from government and private sectors.</p>
                    <div class="bot-status status-active">‚úÖ Active & Ready</div>
                </div>
            </div>

            <div class="user-info" style="margin-top: 2rem;">
                <h3>üöÄ Next Steps</h3>
                <ul style="margin-top: 1rem; padding-left: 2rem;">
                    <li>‚úÖ Your AI Bot Platform is fully operational</li>
                    <li>‚úÖ All 3 bots are active and monitoring</li>
                    <li>‚úÖ Google OAuth authentication is working</li>
                    <li>‚úÖ You have free access as the creator</li>
                    <li>üîÑ Integration with mobile notifications coming soon</li>
                    <li>üîÑ Browser extension integration in development</li>
                </ul>
                <p style="margin-top: 1rem; color: #a855f7;">
                    <strong>Powered by 150+ APIs</strong> for comprehensive market intelligence
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>Shadow Market Tracker</h3>
                    <p>AI-powered business intelligence platform</p>
                </div>
                <div class="footer-links">
                    <a href="privacy.html">Privacy Policy</a>
                    <a href="terms.html">Terms of Service</a>
                    <a href="refund-policy.html">Refund Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function handleCredentialResponse(response) {
            // Decode the JWT token to get user info
            const responsePayload = decodeJwtResponse(response.credential);
            
            // Show dashboard
            document.getElementById('signin-section').classList.add('hidden');
            document.getElementById('dashboard-section').classList.remove('hidden');
            
            // Display user info
            document.getElementById('user-details').innerHTML = `
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <img src="${responsePayload.picture}" alt="Profile" style="width: 60px; height: 60px; border-radius: 50%; border: 2px solid #a855f7;">
                    <div>
                        <h2 style="margin: 0; color: white;">Welcome, ${responsePayload.name}!</h2>
                        <p style="margin: 0; color: #a855f7;">${responsePayload.email}</p>
                        <p style="margin: 0; color: #22c55e; font-size: 0.9rem;">üéØ Creator Access - All Features Unlocked</p>
                    </div>
                </div>
            `;
        }

        function decodeJwtResponse(token) {
            var base64Url = token.split('.')[1];
            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }

        function signOut() {
            google.accounts.id.disableAutoSelect();
            document.getElementById('signin-section').classList.remove('hidden');
            document.getElementById('dashboard-section').classList.add('hidden');
        }

        // Initialize Google Sign-In
        window.onload = function () {
            google.accounts.id.initialize({
                client_id: "242918573251-2ncpsgn706ubrbbvo683h9g0pdiis0pt.apps.googleusercontent.com",
                callback: handleCredentialResponse
            });
        }
    </script>
</body>
</html>
